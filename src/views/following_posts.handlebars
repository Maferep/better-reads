<link rel="stylesheet" href="/static/css/style_prototype.css">
<div id="main-layout">
  <!-- Left sidebar -->
  <div id="sidebar">
    {{#if book}}
    <a href="/book/{{book.id}}"><button id="goBackButton">Go back to book</button></a>
    <div id="book-info">
      <img src="{{book.cover_url}}" alt="Book cover" id="book-cover">
      <h2>{{book.title}}</h2>
    </div>
    {{else}}
    <ul>
      <li><a href="/profile">My User</a></li>
      <li><a href="/browse">Browse</a></li>
      <li><a href="/my-reviews">My Books</a></li>
      <li><a href="/following-posts">Following</a></li>
      <li><a href="/settings">Settings</a></li>
    </ul>
    {{/if}}
  </div>

  <!-- Feed content -->
  <div id="container">
    <div id="feed">
      {{#if posts}}
      {{#each posts}}
      {{> individual_post}}
      {{/each}}
      {{#if has_more}}
       <a href="/following-posts?offset={{posts.length}}">Load more posts</a>
      {{else}}
      <p>You have reached the bottom! There are no more older posts</p>
      {{/if}}
      {{else}}
      <p>No posts yet</p>
      {{/if}}
    </div>
    </div>

  <script src="/static/js/updateLikes.js" type="text/javascript"></script>
  <script src="/static/js/like.js" type="text/javascript" event_listener_location="feed"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
</div>
